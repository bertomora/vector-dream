# 2026-02-16

## Vector Dream NFT - Animation URL Fix

Spent most of the session fixing the Vector Dream NFT collection so animations work on OpenSea.

### Key Technical Details
- **Contract**: `0xbae88927f84adc3a16aa3a41340631f5f285fa0a` on Base mainnet
- **Workspace**: `glitch-nft/`
- **Cron job**: Runs every 5 mins to process new mints

### Problems Solved
1. **Gateway stripping query params**: Switched from `?seed=` to `#seed=` (hash params survive CDN caching)
2. **Unreliable gateways**: Switched from arweave.net/ar-io.net to `gateway.irys.xyz` (fewer 404/502 errors)
3. **Animation stability**: Created art-v2.html with fixed element positions and smooth pulsing (recognizable but dynamic)

### V1 vs V2 Animation Logic
- Tokens 3, 4, 5, 6, 7 → V1 (original chaotic animation) - owned by others
- All other tokens (including 1, 2, 8-11 and new mints) → V2 (stabilized animation)
- User owns: 1, 2, 8, 9, 10, 11

### Important URLs
- **Art V2 on Irys**: `https://gateway.irys.xyz/5dRL0pCZUH4-LLlqEUnkgubAlqNd5PrRWzLEa8hwafY#seed={seed}`
- **Token 11 image**: `https://gateway.irys.xyz/ek87nmHelyBImue7Zatlp2dKp5b-UTMnPUd2NZLcFbw`

### Still Pending
- OpenSea metadata refresh for token 11 (need to hit their refresh endpoint)
- May need to update `process-new-mints.js` to use gateway.irys.xyz URLs
- Launch is tomorrow!

### Files Modified
- `api/dynamic/[tokenId].js` - serves animation HTML
- `api/metadata/[tokenId].js` - serves NFT metadata with correct URLs
- `art-v2.html` - new stabilized animation
- `.processed-mints.json` - tracking processed tokens
